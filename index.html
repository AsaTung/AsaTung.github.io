<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="书写筑明天">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="书写筑明天">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="书写筑明天">





  
  
  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>书写筑明天</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">书写筑明天</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Show me the code please.</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">

    
    
    
      
    

    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>日程表</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/08/title_ 操作系统（operating system）那些事 (1)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书写筑明天">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/08/title_ 操作系统（operating system）那些事 (1)/" class="post-title-link" itemprop="url">操作系统（operating system）那些事</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-09-08 17:09:42 / 修改时间：18:41:41" itemprop="dateCreated datePublished" datetime="2019-09-08T17:09:42+08:00">2019-09-08</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>从用户角度来看，计算机是为用户提供服务的，引入操作系统是让计算机为用户提供最好的服务，构建一个用户和计算机之间的和谐交互环境。从系统管理人员的角度来看，引入操作系统是为了合理地组织计算机工作流程，管理和分配计算机系统硬件及软件资源，使之能为多个用户高效率地共享。从发展的观点来看，引入操作系统是为了给计算机系统的功能扩展提供支撑平台。</p>
<p>因此，本文主要谈谈操作系统的发展历史和简要介绍各种操作系统。</p>
<h1 id="Table-Of-Contents"><a href="#Table-Of-Contents" class="headerlink" title="Table Of Contents"></a>Table Of Contents</h1><ul>
<li>what is the os</li>
<li>os发展历史<ul>
<li>手工操作阶段</li>
<li>批处理系统</li>
<li>多道程序系统</li>
<li>分时系统</li>
<li>实时操作系统</li>
<li>通用操作系统</li>
</ul>
</li>
<li>PC操作系统<ul>
<li>Windows</li>
<li>Linux</li>
</ul>
</li>
<li>手机操作系统<ul>
<li>HarmonyOS</li>
<li>Android</li>
<li>IOS</li>
</ul>
</li>
</ul>
<h1 id="what-is-the-os"><a href="#what-is-the-os" class="headerlink" title="what is the os"></a>what is the os</h1><p>操作系统是计算机系统中的一个系统软件（<strong>是什么</strong>），它是这样一些程序模块的集合——它们管理和控制计算机系统中的硬件及软件资源，合理地组织计算机工作流程（<strong>干什么</strong>），以便有效地利用这些资源为用户提供一个具有足够的功能、使用方便、可扩展、安全和可管理的工作环境，从而在计算机与其用户之间起到接口的作用（<strong>为什么</strong>）。</p>
<h1 id="os发展历史"><a href="#os发展历史" class="headerlink" title="os发展历史"></a>os发展历史</h1><p><strong>计算机</strong>发展过程分为四个阶段。第一代，电子管时代，无操作系统。第二代，晶体管时代，批处理系统。第三代，集成电路时代，多道程序设计。第四代，大规模和超大规模集成电路时代，分时系统。</p>
<p>适应上述计算机发展过程，操作系统经历了如下的发展过程：手工操作系统，批处理，执行系统，多道程序系统，分时系统，实时系统，通用操作系统，网络操作系统和分布式操作系统等。</p>
<h2 id="手工操作阶段"><a href="#手工操作阶段" class="headerlink" title="手工操作阶段"></a>手工操作阶段</h2><p>计算机工作采用手工操作方式，用户独占全机。不会出现因资源已被其他用户占用而等待的现象，但资源的利用率低。20世纪50年代后期，手工操作的慢速度和计算机的高速度之间形成了尖锐矛盾，手工操作方式已严重损害了系统资源的利用率。</p>
<h2 id="批处理系统"><a href="#批处理系统" class="headerlink" title="批处理系统"></a>批处理系统</h2><p>在批处理系统的控制下，计算机能够自动地、成批地处理一个或多个用户的作业。</p>
<h3 id="联机批处理"><a href="#联机批处理" class="headerlink" title="联机批处理"></a>联机批处理</h3><p>作业的输入/输出由CPU来处理。在作业输入和结果输出时，主机的高速CPU仍处于空闲状态，等待慢速的输入/输出设备完成工作。</p>
<h3 id="脱机批处理"><a href="#脱机批处理" class="headerlink" title="脱机批处理"></a>脱机批处理</h3><p>为克服与缓解，高速主机与慢速外设的矛盾，提高CPU的利用率，又引入了脱机批处理系统，即输入/输出脱离主机控制。这种方式的显著特征是：增加一台不与主机直接相连而专门用于与输入/输出设备打交道的卫星机。</p>
<p>卫星机从<strong>输入机上读取用户作业并放到输入磁带上，从输出磁带上读取执行结果并传给输出机</strong>，这样，主机不是直接与慢速的输入/输出设备打交道，而是与速度相对较快的磁带机发生关系，有效缓解了主机与设备的矛盾。主机与卫星机可并行工作，二者分工明确，可以充分发挥主机的高速计算能力。</p>
<p>不足：每次主机内存中仅存放一道作业，每当它运行期间发出输入/输出（I/O）请求后，高速的CPU便处于等待低速的I/O完成状态，致使CPU空闲。为改善CPU的利用率，又引入了多道程序系统。</p>
<h2 id="多道程序系统"><a href="#多道程序系统" class="headerlink" title="多道程序系统"></a>多道程序系统</h2><p>所谓多道程序设计技术，就是指允许多个程序同时进入内存并运行。即同时把多个程序放入内存，并允许它们交替在CPU中运行，它们共享系统中的各种硬、软件资源。当一道程序因I/O请求而暂停运行时，CPU便立即转去运行另一道程序。</p>
<p>多道程序运行的特点有：多道、宏观上并行、微观上串行。</p>
<h2 id="分时系统"><a href="#分时系统" class="headerlink" title="分时系统"></a>分时系统</h2><p>由于CPU速度不断提高和采用分时技术，一台计算机可同时连接多个用户终端，而每个用户可在自己的终端上联机使用计算机，好象自己独占机器一样。</p>
<p>分时技术：把处理机的运行时间分成很短的时间片，按时间片轮流把处理机分配给各联机作业使用。分时系统的主要目标：对用户响应的及时性，即不至于用户等待每一个命令的处理时间过长。</p>
<p>分时系统可以同时接纳数十个甚至上百个用户，由于内存空间有限，往往采用对换（又称交换）方式的存储方法。即将未“轮到”的作业放入磁盘，一旦“轮到”，再将其调入内存；而时间片用完后，又将作业存回磁盘（俗称“滚进”、“滚出”法），使同一存储区域轮流为多个用户服务。</p>
<p>多用户分时系统是当今计算机操作系统中最普遍使用的一类操作系统。</p>
<h2 id="实时操作系统"><a href="#实时操作系统" class="headerlink" title="实时操作系统"></a>实时操作系统</h2><p>实时操作系统是以<strong>在允许时间范围之内做出响应</strong>为特征的。它要求计算机对于外来信息能以足够快的速度进行处理，并在被控对象允许时间范围内做出快速响应，其响应时间要求的秒级、毫秒级甚至微秒级或更小。</p>
<h2 id="通用操作系统"><a href="#通用操作系统" class="headerlink" title="通用操作系统"></a>通用操作系统</h2><p>操作系统的三种基本类型：多道批处理系统、分时系统、实时系统。通用操作系统：<strong>具有多种类型操作特征的操作系统</strong>。可以同时兼有多道批处理、分时、实时处理的功能，或其中两种以上的功能。</p>
<p>从上世纪60年代中期，国际上开始研制一些大型的通用操作系统。这些系统试图达到功能齐全、可适应各种应用范围和操作方式变化多端的环境的目标。但是，这些系统过于复杂和庞大，不仅付出了巨大的代价，且在解决其可靠性、可维护性和可理解性方面都遇到很大的困难。</p>
<p>相比之下，<strong>UNIX操作系统</strong>却是一个例外。这是一个通用的多用户分时交互型的操作系统。它首先建立的是一个精干的核心，而其功能却足以与许多大型的操作系统相媲美，在核心层以外，可以支持庞大的软件系统。它很快得到应用和推广，并不断完善，对现代操作系统有着重大的影响。</p>
<p>至此，操作系统的基本概念、功能、基本结构和组成都已形成并渐趋完善。</p>
<h2 id="操作系统的进一步发展"><a href="#操作系统的进一步发展" class="headerlink" title="操作系统的进一步发展"></a>操作系统的进一步发展</h2><p>操作系统的进一步发展包括：</p>
<ul>
<li>个人计算机操作系统，例如Windows系列；</li>
<li>嵌入式操作系统，例如Symbian操作系统；</li>
<li>网络操作系统；</li>
<li>分布式操作系统；</li>
<li>智能化操作系统。</li>
</ul>
<h1 id="PC-os"><a href="#PC-os" class="headerlink" title="PC os"></a>PC os</h1><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>Windows操作系统是其中的佼佼者。Windows操作系统是美国微软公司推出的一款操作系统。该系统从1985年诞生到现在，经过多年的发展完善，相对比较成熟稳定，是当前个人计算机的主流操作系统。Windows操作系统具有人机操作互动性好，支持应用软件多，硬件适配性强等特点。</p>
<h3 id="Windows-1-0"><a href="#Windows-1-0" class="headerlink" title="Windows 1.0"></a>Windows 1.0</h3><p>Windows 1.0是微软公司第一次对个人电脑操作平台进行用户图形界面的尝试。Windows 1.0基于MS-DOS操作系统。Microsoft Windows 1.0是Windows系列的第一个产品。</p>
<p>Windows 1.0中鼠标作用得到特别的重视，用户可以通过点击鼠标完成大部分的操作。Windows 1.0 自带了一些简单的应用程序，包括日历、记事本、计算器等等。在Windows 1.0中已经出现了控制面板（Control Panel），对驱动程序、虚拟内存有了明确的定义，不过功能非常有限。</p>
<h3 id="Windows-2-0"><a href="#Windows-2-0" class="headerlink" title="Windows 2.0"></a>Windows 2.0</h3><p>在Windows2.0中，用户不但可以缩放窗口，而且可以在桌面上同时显示多个窗口（也就是现在的层叠模式），而在Windows 1.0中屏幕上不能同时显示多个窗口，打开一个窗口时其他窗口必须最小化。Windows 2.0的另外一个重大突破是在1987年的年底，微软为Windows2.0增加了386扩展模式支持，Windows第一次跳出了640K基地址内存的束缚，更多的内存可以充分发挥Windows的优势。</p>
<h3 id="Windows-3-0"><a href="#Windows-3-0" class="headerlink" title="Windows 3.0"></a>Windows 3.0</h3><p>Windows 3.0由于在界面/人性化/内存管理多方面的巨大改进，终于获得用户的认同。这个系统既包含了对用户界面的重要改善也包含了对80286和80386对内存管理技术的改进。为命令行式操作系统编写的MS-DOS下的程序可以在窗口中运行，使得程序可以在多任务基础上可以使用。Windows 3.0使用了一组新的图标，这让他的面貌得到很大改观，再也不是一幅灰头土脸的样子了。</p>
<h3 id="Windows-95"><a href="#Windows-95" class="headerlink" title="Windows 95"></a>Windows 95</h3><p>Windows 95具有双重的角色，它带来了更强大的、更稳定、更实用的桌面图形用户界面，同时也结束了桌面操作系统间的竞争。技术上说，Windows图形用户界面可以在DR-DOS上运行，也可能可以在PC-DOS上运行——这个情况直到几年后在法庭上被揭示，这时其它一些主要的DOS市场的商家已经退出市场了。市场上，Windows 95绝对是成功的，在它发行的一两年内，它成为有史以来最成功的操作系统。</p>
<h3 id="Windows-98"><a href="#Windows-98" class="headerlink" title="Windows 98"></a>Windows 98</h3><p>Windows 98是一个发行于1998年6月25日的混合16位/32位的Windows系统，其内核版本号为4.1，开发代号为Memphis。这个新的系统是基于Windows 95上编写的，它改良了硬件标准的支持，例如MMX和AGP。其它特性包括对FAT32文件系统的支持、多显示器、WebTV的支持和整合到Windows图形用户界面的Internet Explorer，称为活动桌面(Active Desktop)。Windows 98的最大特点就是把微软的IE浏览器技术整合到了Windows里面，从而更好地满足了用户访问Internet资源的需要。</p>
<h3 id="Windows-98-SE"><a href="#Windows-98-SE" class="headerlink" title="Windows 98 SE"></a>Windows 98 SE</h3><p>Windows 98 SE（第二版）发行于1999年5月5日。它包括一系列改进，如Internet Explorer 5、Windows Netmeeting 3、Internet Connection Sharing、对DVD-ROM和对USB的支持。另外98SE的核心部分比Windows 98多支援了影音流媒体接收能力，以及5.1声道支持。</p>
<h3 id="Windows-Me"><a href="#Windows-Me" class="headerlink" title="Windows Me"></a>Windows Me</h3><p>Windows Me是一个16位/32位混合的Windows系统。Windows Me是最后一个基于DOS的混合16位/32位Windows系统，其内核版本号为NT4.9。Windows Me中的Me有两个含义，一是纪念2000年，Me的全称Millennium Edition是千禧特别版的意思；另外Me是英文中意为自己，故Me还可指个人版。</p>
<h3 id="WindowsXP"><a href="#WindowsXP" class="headerlink" title="WindowsXP"></a>WindowsXP</h3><p>WindowsXP有家庭版、专业版、媒体中心版版本，是微软面向消费者且使用Windows NT（即NewTechnology）架构的操作系统</p>
<h3 id="Windows-7"><a href="#Windows-7" class="headerlink" title="Windows 7"></a>Windows 7</h3><p>微软于2009年发布的Windows 7操作系统拥有全新设计的系统界面、绚丽的Aero特效、极好的稳定性与安全性。为了适应桌面版个人用户的不同需求，微软也把Windows7分成了几个不同的版本打包出售，用户可以根据自己的需求来选择一个合适的版本，如家庭基本版、家庭高级版、专业版、企业版、旗舰版。同时，微软也提供了主流的32位版本和64位版本的Windows7供用户选择。</p>
<h3 id="Windows-8"><a href="#Windows-8" class="headerlink" title="Windows 8"></a>Windows 8</h3><p>Windows8是微软公司于2012年正式推出的操作系统，其抛弃了Aero磨砂玻璃界面和“开始”菜单。同时，为了适应触摸屏，其采用了扁平化的Metro界面，使用了Win RT开发平台。由于Windows 8在界面上的进化幅度过大，造成了Windows传统用户的不适应，导致Windows 8的市场占有率长期不高</p>
<h3 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h3><p>2015年7月29日12点起，Windows 10推送全面开启。2015年9月24日，百度与微软正式宣布战略合作，百度成为中国市场上Windows 10 Microsoft Edge浏览器的默认主页和搜索引擎。</p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和Unix的多用户、多任务、支持多线程和多CPU的操作系统。</p>
<p>Linux不仅系统性能稳定，而且是开源软件。其核心防火墙组件性能高效、配置简单，保证了系统的安全。在很多企业网络中，为了追求速度和安全，Linux操作系统不仅仅是被网络运维人员当作服务器使用，Linux既可以当作服务器，又可以当作网络防火墙是Linux的 一大亮点。</p>
<p>Linux与其他操作系统相比 ，具有开放源码、没有版权、技术社区用户多等特点 ，开放源码使得用户可以自由裁剪，灵活性高，功能强大，成本低。尤其系统中内嵌网络协议栈 ，经过适当的配置就可实现路由器的功能。这些特点使得Linux成为开发路由交换设备的理想开发平台。</p>
<p>Linux的主要特征：完全免费、完全兼容POSIX1.0标准、多用户、多任务、良好的界面、支持多种平台。</p>
<h3 id="Linux简史"><a href="#Linux简史" class="headerlink" title="Linux简史"></a>Linux简史</h3><ul>
<li>1984年，Andrew S.Tanenbaum开发了用于教学的UNIX系统，命名为Mininx。</li>
<li>1989年，Andrew S.Tanenbaum将Minix系统运行于x86的PC平台。</li>
<li>1990年，芬兰赫尔辛基大学学生Linux Torvalds首次接触Minix系统。</li>
<li>1991年，Linux Torvalds开始在Minix上编写各种驱动程序等操作系统内核组件。</li>
<li>1991年年底，Linux Torvalds公开了Linux内核源码0.02版</li>
<li>1993年，Linux 1.0版本发行，Linux转向GPL版本协议。</li>
<li>1994年，Linux的第一个商业发行版Slackware问世。</li>
<li>1996年，美国国家标准技术局的计算机系统实验室确认Linux版本1.2.13符合POSIX标准。</li>
<li>1999年，Linux的简体中文发行版问世。</li>
<li>2000年以后，Linux系统日趋成熟，涌现出大量基于Linux服务器平台的应用，并且广泛应用于基于ARM技术的嵌入式系统中。</li>
</ul>
<h3 id="Linux主流发行版本"><a href="#Linux主流发行版本" class="headerlink" title="Linux主流发行版本"></a>Linux主流发行版本</h3><blockquote>
<p>Linux Mint; Ubuntu; Debian GNU/Linux; Mageia; Fedora; openSUSE; PCLinuxOS; Slackware Linux</p>
</blockquote>
<h1 id="手机操作系统"><a href="#手机操作系统" class="headerlink" title="手机操作系统"></a>手机操作系统</h1><h2 id="HarmonyOS"><a href="#HarmonyOS" class="headerlink" title="HarmonyOS"></a>HarmonyOS</h2><p>在2019年8月9日，华为在东莞举行华为开发者大会，正式发布操作系统鸿蒙OS。鸿蒙OS是一款“面向未来”的操作系统，一款基于微内核的面向全场景的分布式操作系统，它将适配手机、平板、电视、智能汽车、可穿戴设备等多终端设备。</p>
<p>鸿蒙系统（HarmonyOS）是基于微内核的全场景分布式OS，可按需扩展，实现更广泛的系统安全，主要用于物联网，特点是低时延，甚至可到毫秒级乃至亚毫秒级。</p>
<p>鸿蒙OS实现模块化耦合，对应不同设备可弹性部署，鸿蒙OS有三层架构，第一层是内核，第二层是基础服务，第三层是程序框架。可用于大屏、PC、汽车等各种不同的设备上，并且可以随时用在手机上。</p>
<h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><p>1.分布式架构首次用于终端OS，实现跨终端无缝协同体验<br>2.确定时延引擎和高性能IPC技术实现系统天生流畅<br>3.基于微内核架构重塑终端设备可信安全<br>4.通过统一IDE支撑一次开发，多端部署，实现跨终端生态共享</p>
<h2 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h2><p>Android是一种基于Linux的自由及开放源代码的操作系统。主要使用于移动设备，如智能手机和平板电脑，由Google公司和开放手机联盟领导及开发。</p>
<p>在优势方面，Android平台首先就是其开放性，开发的平台允许任何移动终端厂商加入到Android联盟中来。显著的开放性可以使其拥有更多的开发者，随着用户和应用的日益丰富，一个崭新的平台也将很快走向成熟。</p>
<p>由于Android的开放性，众多的厂商会推出千奇百怪，功能特色各具的多种产品。功能上的差异和特色，却不会影响到数据同步、甚至软件的兼容，如同从诺基亚Symbian风格手机一下改用苹果iPhone，同时还可将Symbian中优秀的软件带到iPhone上使用、联系人等资料更是可以方便地转移。</p>
<p>Android平台提供给第三方开发商一个十分宽泛、自由的环境，不会受到各种条条框框的阻扰，可想而知，会有多少新颖别致的软件会诞生。</p>
<h2 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h2><p>iOS 是由苹果公司开发的移动操作系统，最初是设计给 iPhone 使用的，后来陆续套用到 iPod touch 、iPad 以及 Apple TV 等产品上。</p>
<h3 id="历史版本"><a href="#历史版本" class="headerlink" title="历史版本"></a>历史版本</h3><p>iPhone OS</p>
<p>iOS 4</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/05/tags_ NLP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书写筑明天">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/05/tags_ NLP/" class="post-title-link" itemprop="url">词向量与word2vec</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-05 21:38:02" itemprop="dateCreated datePublished" datetime="2019-08-05T21:38:02+08:00">2019-08-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-06 09:14:10" itemprop="dateModified" datetime="2019-08-06T09:14:10+08:00">2019-08-06</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="word2vec"><a href="#word2vec" class="headerlink" title="word2vec"></a>word2vec</h1><p>顾名思义，词向量是用来表示词的向量，通常也被认为是词的特征向量。近年来，词向量已逐渐成为自然语言处理的基础知识。</p>
<p>在自然语言处理（NLP）的世界里，词是最小的单元，由词组成句，句组成段落、篇章、文档，所以处理NLP问题，必须<strong>从词入手</strong>。在自然语言中词是符号形式的，要对词进行处理，就必须把它们转换成数值形式，或者说，把词嵌入到一个数学空间里，这种嵌入方式，就是<strong>词嵌入</strong>（<strong>word embedding</strong>)。word2vec，就是word embedding的一种。</p>
<p>word2vec工具是2013年谷歌团队开发的。主要包含两个model：<strong>skip-gram</strong>（跳字模型）和<strong>CBOW</strong>（continuous bag of words，连续词袋模型），以及两种高效的训练算法：<strong>负采样</strong>（negative sampling）和<strong>层序softmax</strong>（hierarchical softmax）。值得一提的是，word2vec词向量可以较好地表达不同词之间的相似和类比关系。</p>
<h1 id="词向量类型"><a href="#词向量类型" class="headerlink" title="词向量类型"></a>词向量类型</h1><h2 id="one-hot-representation"><a href="#one-hot-representation" class="headerlink" title="one-hot representation"></a>one-hot representation</h2><p>传统的基于规则或基于统计的自然语义处理方法将单词看作一个原子符号，被称作one-hot representation。one-hot representation把每个词表示为一个长向量。这个向量的维度是词表的长度，向量中只有一个值为1，其余值为0，这个向量就代表了当前的词。 例如：苹果 [0，0，0，1，0，0，0，0，0，……] </p>
<p>one-hot representation相当于给每个词分配一个id，这就导致这种表示方式不能展示词与词之间的关系。另外，one-hot representation将会导致特征空间非常大，这可能会导致维度爆炸。</p>
<h2 id="distribution-representation"><a href="#distribution-representation" class="headerlink" title="distribution representation"></a>distribution representation</h2><p>distribution representation（分布式表示）将词表示成一个定长的连续的稠密向量。它能使词之间存在相似关系，使词之间存在“距离”概念。</p>
<h1 id="语言模型（Language-model"><a href="#语言模型（Language-model" class="headerlink" title="语言模型（Language model)"></a>语言模型（Language model)</h1><h2 id="n元语法（n-gram）"><a href="#n元语法（n-gram）" class="headerlink" title="n元语法（n-gram）"></a>n元语法（n-gram）</h2><p>一个语言模型通常构建为字符串$s$的概率分布$p(s)$，这里$p(s)$试图反应的是字符串$s$作为一个句子出现的概率。</p>
<p>对于一个由$l$个基元（“基元”可以为字、词或短语等，为表述方便，用“词”来通指）构成的句子$s=w_1w_2\cdots w_l$，其概率计算公式可以表示为：</p>
<script type="math/tex; mode=display">
\begin{equation}\begin{split}
p(s)&=p(w_1)p(w_2 | w_1)p(w_3 | w_1w_2)\cdots p(w_l | w_1...w_{l-1})\\
    &=\prod_{i=1}^lp(w_i | w_1\cdots w_{i-1})
\end{split}\end{equation}</script><p>式$（1）$中，产生第$i(1≤i≤l)$个词的概率是由已经产生的$i-1$个词$w_1\cdots w_{i-1}$决定的。一般地，我们把前$i-1$个词$w_1\cdots w_{i-1}$称为第$i$个词的“历史（history）”。在这种计算方法中，随着历史长度的增加，不同的历史数目按指数级增长。如果历史的长度为$i-1$，那么，就有$L^{i-1}$种不同的历史（假设$L$为词汇集的大小），而我们必须考虑在所有$L^{i-1}$种不同历史情况下，产生第$i$个词的概率。这样的话，模型中就有$L^i$个自由参数$p(w_i|w_1,w_2,\cdots,w_{i-1})$。假设$L=500$，$i=3$，那么自由参数的数目就是1250亿个。</p>
<p>为了解决以上问题，我们提出<strong>n元语法</strong>（n-gram）的概念，它的含义我们可以简单理解成：<strong>一个词的概率只依赖于它前面的$n-1$个词</strong>。当$n=1$时，即词$w_i$独立于历史时，记作unigram；当$n=2$时，词$w_i$仅与它前面的一个历史词$w_{i-1}$有关，记作bigram；当$n=3$时，词$w_i$仅与它前面的两个历史词$w_{i-1}w_{i-2}$有关，记作trigram。</p>
<p>以二元语法模型为例，根据前面的解释，我们可以近似地认为，一个词的概率只依赖于它前面一个词，那么，</p>
<script type="math/tex; mode=display">
p(s)=\prod_{i=1}^lp(w_i|w_1w_2\cdots w_{i-1}) \approx \prod_{i=1}^lp(w_i|w_{i-1})</script><p>为了使得$p(w_i|w_{i-1})$对于$i=1$有意义，我们在句子开头加上一个句首标记&lt;<bos>BOS&gt;，即假设$w_0$就是&lt;<bos>BOS&gt;。相应地，在句子末尾加上一个句尾标记&lt;<eos>EOS&gt;。例如，要计算$p(Mark\ wrote\ a\ book)$，我们可以这样计算：</eos></bos></bos></p>
<script type="math/tex; mode=display">
\begin{equation}\begin{split}
p(Mark\ wrote\ a\ book)=&p(Mark|<BOS>)×p(wrote|Mark)\\
&×p(a|wrote)×p(book|a)×p(<EOS>|book)
\end{split}\end{equation}</script><p>为了估计$p(w_i|w_{i-1})$条件概率，可以简单地计算$w_{i-1}w_i$在某一文本中出现的频率，然后归一化。如果用$c(w_{i-1}w_i)$表示二元语法$w_{i-1}w_i$在给定文本中的出现次数，我们可以采用以下的计算公式：</p>
<script type="math/tex; mode=display">
\begin{equation}\begin{split}
p(w_i|w_{i-1})={c(w_{i-1}w_i)\over \sum_{w_i}c(w_{i-1}w_i)}
\end{split}\end{equation}</script><p>式$（3）$用于估计$p(w_i|w_{i-1})$的方法称为$p(w_i|w_{i-1})$的<strong>最大似然估计</strong>。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/01/numpy-exercises & experiences/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书写筑明天">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/01/numpy-exercises & experiences/" class="post-title-link" itemprop="url">numpy exercises and experience</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-08-01 07:55:21" itemprop="dateCreated datePublished" datetime="2019-08-01T07:55:21+08:00">2019-08-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-02 15:59:36" itemprop="dateModified" datetime="2019-08-02T15:59:36+08:00">2019-08-02</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近在读机器学习深度学习代码时，时常发现自己读不懂，原因除了不熟悉算法原理之外，还有不知道某个函数实现了什么功能，例如numpy有无数种创建数组和矩阵的方式，为什么这个算法的实现要用到这种方式等等。Numpy数组有许多极其优良的性能，在对大量数据进行数学和其他类型的操作是，我们通常会选择numpy数组而不是python原生的list。因此，本文主要记录入门numpy的一些容易混淆的概念和常见的使用技巧，一方面在记录的过程中理清思路，在脑海里留下一些实现方法的印象，一方面便于日后复习。</p>
<h1 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h1><ul>
<li>import</li>
<li>The N-dimensional array (class ndarray)<ul>
<li>Preface</li>
<li>Momory layout<ul>
<li>Item layout</li>
<li>Flattened item layout</li>
<li>Memory layout</li>
</ul>
</li>
<li>Copies &amp; Views<ul>
<li>No Copy</li>
<li>View or Shallow Copy</li>
<li>Deep Copy</li>
</ul>
</li>
</ul>
</li>
<li>numpy experience</li>
<li>Refrence</li>
</ul>
<h1 id="import"><a href="#import" class="headerlink" title="import"></a>import</h1><pre><code>    import numpy as np
</code></pre><h1 id="The-N-dimeensional-array-class-ndarray"><a href="#The-N-dimeensional-array-class-ndarray" class="headerlink" title="The N-dimeensional array (class ndarray)"></a>The N-dimeensional array (class ndarray)</h1><h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>The ndarray class is the core of numpy. The numpy documentation defines the ndarray class very clearly: An instance of class ndarray consists of a contiguous one-dimensional segment of computer memory (owned by the array, or by some other object), combined with an indexing scheme that maps N integers into the location of an item in the block.</p>
<p>Said differently, an array is mostly a contiguous block of memory whose parts can be accessed using an indexing scheme. </p>
<h2 id="Memory-layout"><a href="#Memory-layout" class="headerlink" title="Memory layout"></a>Memory layout</h2><p>Such indexing scheme is in turn defined by a <strong>shape</strong> and a <strong>data type</strong> and this is precisely what is needed when you define a new array:</p>
<pre><code>    Z = np.arange(9).reshape(3,3).astype(np.int16)
</code></pre><p>Here, we know that Z itemsize is 2 bytes (int16), the shape is (3,3) and the number of dimensions is 2 (len(Z.shape)).</p>
<pre><code>    print(Z.itemsize)    #2
    print(Z.shape)        #(3, 3)
    print(Z.ndim)        #2
</code></pre><blockquote>
<p>The number of dimensions (axes) of the array. In the Python world, the number of dimensions is referred to as <strong>rank</strong>. The rank of array Z is np.ndim(Z). 这里的 rank 不是线性代数中的 rank（秩），它指代的是<strong>维数</strong>（number of dimensions）</p>
</blockquote>
<h3 id="Item-layout"><a href="#Item-layout" class="headerlink" title="Item layout"></a>Item layout</h3><pre><code>                   shape[1]
                     (=3)
                ┌───────────┐

             ┌  ┌───┬───┬───┐  ┐
             │  │ 0 │ 1 │ 2 │  │
             │  ├───┼───┼───┤  │
    shape[0] │  │ 3 │ 4 │ 5 │  │ len(Z)
     (=3)    │  ├───┼───┼───┤  │  (=3)
             │  │ 6 │ 7 │ 8 │  │
             └  └───┴───┴───┘  ┘
</code></pre><p>axis的计数方式是<strong>从外到内</strong>计数的，例如矩阵Z在numpy中表示为：</p>
<pre><code>    Z = [[0,1,2],
         [3,4,5],
         [6,7,8]]
</code></pre><p>对应的轴为：</p>
<pre><code>        axis = 0
        |
        | axis = 1
        | |
        ↓ ↓
    Z = [ [0,1,2],
          [3,4,5],
          [6,7,8] ]
</code></pre><p>在指定axis上求和，即对于np.sum(Z, <strong>axis=0</strong>)和np.sum(Z, <strong>axis=1</strong>)会有不同的结果</p>
<h3 id="Flattened-item-layout"><a href="#Flattened-item-layout" class="headerlink" title="Flattened item layout"></a>Flattened item layout</h3><pre><code>    ┌───┬───┬───┬───┬───┬───┬───┬───┬───┐
    │ 0 │ 1 │ 2 │ 3 │ 4 │ 5 │ 6 │ 7 │ 8 │
    └───┴───┴───┴───┴───┴───┴───┴───┴───┘

    └───────────────────────────────────┘
                   Z.size
                    (=9)
</code></pre><h3 id="Memory-layout-1"><a href="#Memory-layout-1" class="headerlink" title="Memory layout"></a>Memory layout</h3><pre><code>                             strides[1]
                               (=2)
                      ┌─────────────────────┐

              ┌       ┌──────────┬──────────┐ ┐
              │ p+00: │ 00000000 │ 00000000 │ │
              │       ├──────────┼──────────┤ │
              │ p+02: │ 00000000 │ 00000001 │ │ strides[0]
              │       ├──────────┼──────────┤ │   (=2x3)
              │ p+04  │ 00000000 │ 00000010 │ │
              │       ├──────────┼──────────┤ ┘
              │ p+06  │ 00000000 │ 00000011 │
              │       ├──────────┼──────────┤
    Z.nbytes  │ p+08: │ 00000000 │ 00000100 │
    (=3x3x2)  │       ├──────────┼──────────┤
              │ p+10: │ 00000000 │ 00000101 │
              │       ├──────────┼──────────┤
              │ p+12: │ 00000000 │ 00000110 │
              │       ├──────────┼──────────┤
              │ p+14: │ 00000000 │ 00000111 │
              │       ├──────────┼──────────┤
              │ p+16: │ 00000000 │ 00001000 │
              └       └──────────┴──────────┘

                      └─────────────────────┘
                            Z.itemsize
                         Z.dtype.itemsize
                               (=2)
</code></pre><h2 id="Copies-amp-Views"><a href="#Copies-amp-Views" class="headerlink" title="Copies &amp; Views"></a>Copies &amp; Views</h2><h3 id="No-Copy-b-a"><a href="#No-Copy-b-a" class="headerlink" title="No Copy (b=a)"></a>No Copy (b=a)</h3><p>Simple assignments do not make the copy of array object. Instead, it uses <strong>the same id()</strong> of the original array to access it. The id() returns a universal identifier of Python object, similar to the pointer in C.</p>
<p>Furthermore, any changes in either gets reflected in the other. For example, the changing shape of one will change the shape of the other too.</p>
<h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(12)</span><br><span class="line">b = a</span><br><span class="line"></span><br><span class="line">print(b is a)  # 返回 True</span><br><span class="line">b.shape = (3,4)</span><br><span class="line">print (&quot;a.shape=&quot;,a.shape)  # a.shape= (3, 4)</span><br><span class="line">print (id(a))   # 2493855732640</span><br><span class="line">print (id(b))   # 2493855732640</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="View-or-Shallow-Copy-c-a-view"><a href="#View-or-Shallow-Copy-c-a-view" class="headerlink" title="View or Shallow Copy (c = a.view())"></a>View or Shallow Copy (c = a.view())</h3><p>NumPy has ndarray.view() method which is a new array object that looks at the <strong>same data</strong> of the original array. Unlike the earlier case, change in dimensions of the new array doesn’t change dimensions of the original.</p>
<p>Slice of an array creates a view.</p>
<h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">c = a.view()            # 将a复制给c</span><br><span class="line">print(c is a)           # False</span><br><span class="line">print(&quot;c=&quot;,c)</span><br><span class="line">        </span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">c=array([[0, 1, 2, 3],</span><br><span class="line">         [4, 5, 6, 7],</span><br><span class="line">         [8, 9, 10, 11]])</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">        </span><br><span class="line">c.shape = (2,6)             # 改变c的结构为2行6列，看a是否会变化</span><br><span class="line">print(&quot;c.shape=&quot;,c.shape)   # c.shape=(2, 6)</span><br><span class="line">print (&quot;a.shape=&quot;,a.shape)  # a.shape=(3, 4)</span><br><span class="line"></span><br><span class="line">c[0,4] = 1234             # 改变矩阵c第0行4列的值，看a的值是否会变化</span><br><span class="line">print(&quot;c=&quot;,c)</span><br><span class="line">print(&quot;a=&quot;,a)             #结果显示a中相应的值也发生了变化</span><br><span class="line"></span><br><span class="line">print(id(a))    # 2493855144416</span><br><span class="line">print(id(b))    # 2493855144416</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="Deep-Copy-d-a-copy"><a href="#Deep-Copy-d-a-copy" class="headerlink" title="Deep Copy (d=a.copy())"></a>Deep Copy (d=a.copy())</h3><p>The ndarray.copy() function creates a deep copy. It is a <strong>complete copy</strong> of the array and its data, and doesn’t share with the original array.</p>
<h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">d = a.copy() </span><br><span class="line">print(d is a)  # False</span><br><span class="line"></span><br><span class="line">d[0,0] = 9999</span><br><span class="line">print (d) </span><br><span class="line">print (a)     # a中相应的值不会变化</span><br><span class="line"></span><br><span class="line">print(id(d))  # 2493855735440</span><br><span class="line">print(id(a))  # 2493855732640</span><br></pre></td></tr></table></figure>
</code></pre><h1 id="numpy-experience"><a href="#numpy-experience" class="headerlink" title="numpy experience"></a>numpy experience</h1><p>内容主要来自：<a href="https://github.com/rougier/numpy-100" target="_blank" rel="noopener">numpy-100</a></p>
<ol>
<li><p>Import the numpy package under the name np (★☆☆)</p>
<pre><code> import numpy as np
</code></pre></li>
<li><p>Print the numpy version and the configuration (★☆☆)</p>
<pre><code> print(np.__veision__)
 np.show_config()
</code></pre></li>
<li><p>Create a null vector of size 10 but the fifth value which is 1 (★☆☆)</p>
<pre><code> Z = np.zeros(10)
 Z[4] = 1
 print(Z)
</code></pre></li>
<li><p>Create a vector with values ranging from 10 to 49 (★☆☆)</p>
<pre><code> Z = np.arange(10, 50)
 print(Z)
</code></pre></li>
<li><p>How to find the memory size of any array (★☆☆)</p>
<pre><code> Z = np.zeros((10,10))
 print(&quot;%d bytes&quot; % (Z.size * Z.itemsize))
 #Z.size=10*10=100, Z.itemsize=8
</code></pre></li>
<li><p>Reverse a vector (first element becomes last) (★☆☆)</p>
<pre><code> Z = np.arange(50)
 Z = Z[::-1]
 print(Z)
</code></pre></li>
<li><p>Create a 3x3 matrix with values ranging from 0 to 8 (★☆☆)</p>
<pre><code> Z = np.arange(9).reshape(3, 3)
 print(Z)
</code></pre></li>
<li><p>Find indices of non-zero elements from [1,2,0,0,4,0] (★☆☆)</p>
<pre><code> nz = np.nonzero([1,2,0,0,4,0])
 print(nz)
 #np.nonzero会返回非0值的下标
</code></pre></li>
<li><p>Create a 3x3 identity matrix(单位矩阵) (★☆☆)</p>
<pre><code> Z = np.eye(3)
 print(Z)

 &quot;&quot;&quot;
 array([[1., 0., 0.],
        [0., 1., 0.],
        [0., 0., 1.]])
 &quot;&quot;&quot;
</code></pre></li>
<li><p>Create a 3x3x3 array with random values (★☆☆)</p>
<pre><code>Z = np.random.random((3,3,3))
print(Z)
</code></pre></li>
<li><p>Create a 10x10 array with random values and find the minimum and maximum values (★☆☆)</p>
<pre><code>Z = np.random.random((10,10))
Zmin, Zmax = Z.min(), Z.max()
print(Zmin, Zmax)
</code></pre></li>
<li><p>Create a random vector of size 30 and find the mean value (★☆☆)</p>
<pre><code>Z = np.random.random(30)
m = Z.mean()        #无axis参数，求所有element的均值. axis=0表示列，axis=1表示行.
print(m)
</code></pre></li>
<li><p>Create a 2d array with 1 on the border and 0 inside (★☆☆)</p>
<pre><code>Z = np.ones((10,10))
Z[1:-1,1:-1] = 0
print(Z)
</code></pre></li>
<li><p>How to add a border (filled with 0’s) around an existing array? (★☆☆)</p>
<pre><code>Z = np.ones((5,5))
Z = np.pad(Z, pad_width=1, mode=&#39;constant&#39;, constant_values=0)
print(Z)
</code></pre></li>
<li><p>What is the result of the following expression? (★☆☆)</p>
<pre><code>print(0 * np.nan)                  #nan
print(np.nan == np.nan)            #False
print(np.inf &gt; np.nan)             #False
print(np.nan - np.nan)             #nan
print(np.nan in set([np.nan]))     #True
print(0.3 == 3 * 0.1)              #False
</code></pre></li>
<li><p>Create a 5x5 matrix with values 1,2,3,4 just below the diagonal (★☆☆)</p>
<pre><code>Z = np.diag(1+np.arange(4),k=-1)
print(Z)

&quot;&quot;&quot;
[[0 0 0 0 0]
[1 0 0 0 0]
[0 2 0 0 0]
[0 0 3 0 0]
[0 0 0 4 0]]
&quot;&quot;&quot;
</code></pre></li>
<li><p>Consider a (6,7,8) shape array, what is the index (x,y,z) of the 100th element? (★☆☆)</p>
<pre><code>print(np.unravel_index(99,(6,7,8)))
#(1, 5, 3)
</code></pre></li>
<li><p>Normalize a 5x5 random matrix (★☆☆)</p>
<pre><code>Z = np.random.random((5,5))
Z = (Z - np.mean (Z)) / (np.std (Z))    #np.std()计算标准差
print(Z)
</code></pre></li>
<li><p>Multiply a 5x3 matrix by a 3x2 matrix (real matrix product) (★☆☆)</p>
<pre><code>Z = np.dot(np.ones((5,3)), np.ones((3,2)))
print(Z)

# Alternative solution, in Python 3.5 and above
Z = np.ones((5,3)) @ np.ones((3,2))
print(Z)
</code></pre></li>
<li><p>Given a 1D array, negate all elements which are between 3 and 8, in place. (★☆☆)</p>
<pre><code>Z = np.arange(11)
Z[(3 &lt; Z) &amp; (Z &lt;= 8)] *= -1
print(Z)
</code></pre></li>
<li><p>What is the output of the following script? (★☆☆)</p>
<pre><code>print(sum(range(5),-1))    #9
from numpy import *
print(sum(range(5),-1))    #10
</code></pre></li>
<li><p>How to find common values between two arrays? (★☆☆)</p>
<pre><code>Z1 = np.random.randint(0,10,10)
Z2 = np.random.randint(0,10,10)
print(np.intersect1d(Z1,Z2))
</code></pre></li>
<li><p>How to ignore all numpy warnings (not recommended)? (★☆☆)</p>
<pre><code># Suicide mode on
defaults = np.seterr(all=&quot;ignore&quot;)
Z = np.ones(1) / 0

# Back to sanity
_ = np.seterr(**defaults)
</code></pre></li>
<li><p>Is the following expressions true? (★☆☆)</p>
<pre><code>np.sqrt(-1) == np.emath.sqrt(-1)    #False
</code></pre></li>
<li><p>How to get the dates of yesterday, today and tomorrow? (★☆☆)</p>
<pre><code>yesterday = np.datetime64(&#39;today&#39;, &#39;D&#39;) - np.timedelta64(1, &#39;D&#39;)
today     = np.datetime64(&#39;today&#39;, &#39;D&#39;)
tomorrow  = np.datetime64(&#39;today&#39;, &#39;D&#39;) + np.timedelta64(1, &#39;D&#39;)
</code></pre></li>
<li><p>How to get all the dates corresponding to the month of July 2016? (★★☆)</p>
<pre><code>Z = np.arange(&#39;2016-07&#39;, &#39;2016-08&#39;, dtype=&#39;datetime64[D]&#39;)
print(Z)
</code></pre></li>
<li><p>How to compute ((A+B)*(-A/2)) in place (without copy)? (★★☆)</p>
<pre><code>A = np.ones(3)*1
B = np.ones(3)*2
C = np.ones(3)*3
np.add(A,B,out=B)
np.divide(A,2,out=A)
np.negative(A,out=A)
np.multiply(A,B,out=A)
</code></pre></li>
<li><p>Create a 5x5 matrix with row values ranging from 0 to 4 (★★☆)</p>
<pre><code>Z = np.zeros((5,5))
Z += np.arange(5)
print(Z)
</code></pre></li>
<li><p>Extract the integer part of a random array using 5 different methods (★★☆)</p>
<pre><code>print (Z - Z%1)
print (np.floor(Z))
print (np.ceil(Z)-1)
print (Z.astype(int))
print (np.trunc(Z))
</code></pre></li>
<li><p>Create a random vector of size 10 and sort it (★★☆)</p>
<pre><code>Z = np.random.random(10)
Z.sort()
print(Z)
</code></pre></li>
<li><p>Consider two random array A and B, check if they are equal (★★☆)</p>
<pre><code>A = np.random.randint(0,2,5)
B = np.random.randint(0,2,5)

# Assuming identical shape of the arrays and a tolerance for the comparison of values
equal = np.allclose(A,B)
print(equal)

# Checking both the shape and the element values, no tolerance (values have to be exactly equal)
equal = np.array_equal(A,B)
print(equal)
</code></pre></li>
<li><p>Create random vector of size 10 and replace the maximum value by 0 (★★☆)</p>
<pre><code>Z = np.random.random(10)
Z[Z.argmax()] = 0
print(Z)
</code></pre></li>
<li><p>Print the minimum and maximum representable value for each numpy scalar type (★★☆)</p>
<pre><code>for dtype in [np.int8, np.int32, np.int64]:
   print(np.iinfo(dtype).min)
   print(np.iinfo(dtype).max)
for dtype in [np.float32, np.float64]:
   print(np.finfo(dtype).min)
   print(np.finfo(dtype).max)
   print(np.finfo(dtype).eps)

&quot;&quot;&quot;
-128
127
-2147483648
2147483647
-9223372036854775808
9223372036854775807
-3.4028235e+38
3.4028235e+38
1.1920929e-07
-1.7976931348623157e+308
1.7976931348623157e+308
2.220446049250313e-16
&quot;&quot;&quot;
</code></pre></li>
<li><p>How to find the closest value (to a given scalar) in a vector? (★★☆)</p>
<pre><code>Z = np.arange(100)
v = np.random.uniform(0,100)
index = (np.abs(Z-v)).argmin()
print(Z[index])
</code></pre></li>
<li><p>How to convert a float (32 bits) array into an integer (32 bits) in place? (★★☆)</p>
<pre><code>Z = np.arange(10, dtype=np.float32)
Z = Z.astype(np.int32, copy=False)
print(Z)
</code></pre></li>
<li><p>What is the equivalent of enumerate for numpy arrays? (★★☆)</p>
<pre><code>Z = np.arange(9).reshape(3,3)
for index, value in np.ndenumerate(Z):
    print(index, value)
for index in np.ndindex(Z.shape):
    print(index, Z[index])
</code></pre></li>
<li><p>How to I sort an array by the nth column? (★★☆)</p>
<pre><code>Z = np.random.randint(0,10,(3,3))
print(Z)
print(Z[Z[:,1].argsort()])
</code></pre></li>
<li><p>How to tell if a given 2D array has null columns? (★★☆)</p>
<pre><code>Z = np.random.randint(0,3,(3,10))
print((~Z.any(axis=0)).any())
</code></pre></li>
<li><p>Consider an array of dimension (5,5,3), how to mulitply it by an array with dimensions (5,5)? (★★★)</p>
<pre><code>A = np.ones((5,5,3))
B = 2*np.ones((5,5))
print(A * B[:,:,None])
</code></pre></li>
<li><p>How to swap two rows of an array? (★★★)</p>
<pre><code>A = np.arange(25).reshape(5,5)
A[[0,1]] = A[[1,0]]
print(A)
#swap 0 row and 1 row
</code></pre></li>
</ol>
<h1 id="Refrence"><a href="#Refrence" class="headerlink" title="Refrence"></a>Refrence</h1><ul>
<li><a href="https://github.com/rougier/numpy-100" target="_blank" rel="noopener">numpy-100</a></li>
<li><a href="http://www.labri.fr/perso/nrougier/from-python-to-numpy/" target="_blank" rel="noopener">http://www.labri.fr/perso/nrougier/from-python-to-numpy/</a></li>
<li><a href="https://www.tutorialspoint.com/numpy/numpy_copies_and_views.htm" target="_blank" rel="noopener">NumPy - Copies &amp; Views</a></li>
<li><a href="https://www.cnblogs.com/wodexk/p/10311293.html" target="_blank" rel="noopener">复制理解</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/17/AsaTung：信息标记的三种形式与信息提取的一般方法概述/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书写筑明天">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/17/AsaTung：信息标记的三种形式与信息提取的一般方法概述/" class="post-title-link" itemprop="url">AsaTung：信息标记的三种形式与信息提取的一般方法概述</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-07-17 10:00:00" itemprop="dateCreated datePublished" datetime="2019-07-17T10:00:00+08:00">2019-07-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-07-29 17:13:57" itemprop="dateModified" datetime="2019-07-29T17:13:57+08:00">2019-07-29</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Ⅰ-信息的标记"><a href="#Ⅰ-信息的标记" class="headerlink" title="Ⅰ.信息的标记"></a>Ⅰ.信息的标记</h1><ul>
<li>标记后的信息可形成信息组织结构，增加了信息维度</li>
<li>标记的结构与信息一样具有重要价值</li>
<li>标记后的信息可用于通信、存储或展示</li>
<li>标记后的信息更有利于程序理解和应用</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;HTML通过预定义的<>...</>标签形式组织不同类型的信息</p>
<h1 id="Ⅱ-信息标记的三种方式"><a href="#Ⅱ-信息标记的三种方式" class="headerlink" title="Ⅱ.信息标记的三种方式"></a>Ⅱ.信息标记的三种方式</h1><h2 id="1-XML"><a href="#1-XML" class="headerlink" title="1.XML"></a>1.XML</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>&lt;img src=&quot;china.jpg&quot; size=&quot;10&quot;&gt;...&lt;/img&gt;</code></p>
<p>&nbsp;&nbsp;以<code>&lt;img&gt;</code>开始，以<code>&lt;/img&gt;</code>结束，<code>&lt;img&gt;</code>为标签tag<br>&nbsp;&nbsp;<code>img</code>为名称name，标签中的<code>src</code>与<code>size</code>为属性attibute</p>
<p>&nbsp;&nbsp;如果是空元素，有以下缩写形式：<code>&lt;img src=&quot;china.jpg&quot; size=&quot;10&quot; /&gt;</code></p>
<p>&nbsp;&nbsp;注释书写形式：<code>&lt;!--This is a comment, very useful --&gt;</code></p>
<h3 id="XML实例："><a href="#XML实例：" class="headerlink" title="XML实例："></a>XML实例：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;person&gt;</span><br><span class="line">   &lt;firstName&gt;Asa&lt;/firstName&gt;</span><br><span class="line">   &lt;lastName&gt;Tung&lt;/lastName&gt;</span><br><span class="line">   &lt;college&gt;山西大学&lt;/college&gt;</span><br><span class="line">   &lt;address&gt;</span><br><span class="line">      &lt;province&gt;山西省&lt;/province&gt;</span><br><span class="line">      &lt;city&gt;太原市&lt;/city&gt;</span><br><span class="line">      &lt;streetAddr&gt;小店区坞城路92号&lt;/streetAddr&gt;</span><br><span class="line">   &lt;/address&gt;</span><br><span class="line">   &lt;prof&gt;计算机科学与技术&lt;/prof&gt;</span><br><span class="line">&lt;/person&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-JSON"><a href="#2-JSON" class="headerlink" title="2.JSON"></a>2.JSON</h2><p>&nbsp;&nbsp;&nbsp;有类型的键值对 <code>key:value</code></p>
<p>如 <code>&quot;name&quot; : &quot;山西大学&quot;</code></p>
<p><code>&quot;name&quot; : [&quot;山西大学&quot;, &quot;山西大学堂&quot;]</code> 多值用[,]来组织</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&quot;name&quot;:&#123;</span><br><span class="line">      &quot;newName&quot; : &quot;山西大学&quot;,</span><br><span class="line">      &quot;oldName&quot; : &quot;山西大学堂&quot;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>键值嵌套用{,}组织</p>
<h3 id="JSON实例："><a href="#JSON实例：" class="headerlink" title="JSON实例："></a>JSON实例：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">   &quot;firstName&quot; : &quot;Asa&quot;,</span><br><span class="line">   &quot;lastNamw&quot;  : &quot;Tung&quot;,</span><br><span class="line">   &quot;college&quot;   : &quot;山西大学&quot;，</span><br><span class="line">   &quot;address&quot;   : &#123;</span><br><span class="line">                    &quot;province&quot;   : &quot;山西省&quot;,</span><br><span class="line">                    &quot;city&quot;       : &quot;太原市&quot;，</span><br><span class="line">                    &quot;streetAddr&quot; : &quot;小店区坞城路92号&quot;</span><br><span class="line">                 &#125;，</span><br><span class="line">   &quot;prof&quot;      : &quot;计算机科学与技术&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-YAML"><a href="#3-YAML" class="headerlink" title="3.YAML"></a>3.YAML</h2><p>无类型键值对 key : value</p>
<p><code>name : 山西大学</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name为key，仅可为字符串，山西大学为value</p>
<p>缩进表达所属关系：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">name :</span><br><span class="line">   oldName : 山西大学堂</span><br><span class="line">   newName : 山西大学</span><br></pre></td></tr></table></figure>
<p>用符号’-‘来表示并列关系：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name : </span><br><span class="line">-山西大学</span><br><span class="line">-山西大学堂</span><br></pre></td></tr></table></figure>
<p>‘|’&nbsp;&nbsp;表达整块数据，’#’&nbsp;&nbsp;表示注释：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">text : |                   #学校介绍</span><br><span class="line"></span><br><span class="line">山西大学文脉可追溯到明代三立书院及清代晋阳书院和令德堂书院，学校前身是清朝光绪二十八年（1902年）</span><br><span class="line"></span><br><span class="line">5月8日由英国人李提摩太和时任山西巡抚岑春煊共同创办的山西大学堂。民国元年（1912年）改名为山西大学</span><br><span class="line"></span><br><span class="line">校，1918年确定为国立山西大学，是中国创办最早的三所国立大学之一。1931年改名为山西大学。1953</span><br><span class="line"></span><br><span class="line">年经全国高校院系调整，更名为山西师范学院。1959年恢复山西大学校名，是中国最早在联合国注册的高校之</span><br><span class="line"></span><br><span class="line">一。</span><br></pre></td></tr></table></figure>
<h3 id="YAML实例："><a href="#YAML实例：" class="headerlink" title="YAML实例："></a>YAML实例：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">firstName : Asa</span><br><span class="line">lastName  : Tung</span><br><span class="line">college   : 山西大学</span><br><span class="line">address   :</span><br><span class="line">   province   : 山西省</span><br><span class="line">   city       : 太原市</span><br><span class="line">   streetAddr : 小店区坞城路92号</span><br><span class="line">prof      : 计算机科学与技术</span><br></pre></td></tr></table></figure>
<h1 id="Ⅲ-三种信息标记形式的比较"><a href="#Ⅲ-三种信息标记形式的比较" class="headerlink" title="Ⅲ.三种信息标记形式的比较"></a>Ⅲ.三种信息标记形式的比较</h1><ul>
<li>XML<ul>
<li>早的通用信息标记语言，可拓展性好，但繁琐</li>
<li>Internet上的信息交互与传递</li>
</ul>
</li>
<li>JSON<ul>
<li>信息有类型，适合程序处理(js)，较XML简洁</li>
<li>移动应用云端的节点的信息通信，无注释</li>
</ul>
</li>
<li>YAML<ul>
<li>信息无类型，文本信息比例最好，可读性好</li>
<li>各类系统的配置文件，有注释易读</li>
</ul>
</li>
</ul>
<h1 id="Ⅳ-信息提取的一般方法"><a href="#Ⅳ-信息提取的一般方法" class="headerlink" title="Ⅳ.信息提取的一般方法"></a>Ⅳ.信息提取的一般方法</h1><h2 id="1-完整解析信息的标记形式-XML-JSON-YAML-，再提取关键信息"><a href="#1-完整解析信息的标记形式-XML-JSON-YAML-，再提取关键信息" class="headerlink" title="1.完整解析信息的标记形式(XML JSON YAML)，再提取关键信息"></a>1.完整解析信息的标记形式(XML JSON YAML)，再提取关键信息</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此方法需要标记解析器，例如，python中bs4库的标签树遍历</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;优点：信息解析准确</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;缺点：提取过程繁琐，速度慢</p>
<h2 id="2-无视标记形式，直接搜索关键信息-搜索"><a href="#2-无视标记形式，直接搜索关键信息-搜索" class="headerlink" title="2.无视标记形式，直接搜索关键信息(搜索)"></a>2.无视标记形式，直接搜索关键信息(搜索)</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此方法需要对信息的文本查找函数</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;优点：提取过程简洁，速度较快</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;缺点：提取结果准确性与信息内容有关</p>
<h2 id="3-融合方法：结合形式解析与搜索方法，提取关键信息-XML-JSON-YAML-搜索"><a href="#3-融合方法：结合形式解析与搜索方法，提取关键信息-XML-JSON-YAML-搜索" class="headerlink" title="3.融合方法：结合形式解析与搜索方法，提取关键信息(XML JSON YAML 搜索)"></a>3.融合方法：结合形式解析与搜索方法，提取关键信息(XML JSON YAML 搜索)</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;融合方法需要标记解析器及文本查找函数</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/18/AsaTung：python网络爬虫与信息提取学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书写筑明天">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/18/AsaTung：python网络爬虫与信息提取学习笔记/" class="post-title-link" itemprop="url">AsaTung：python网络爬虫与信息提取学习笔记</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-18 18:48:25" itemprop="dateCreated datePublished" datetime="2019-04-18T18:48:25+08:00">2019-04-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-06 21:06:26" itemprop="dateModified" datetime="2019-08-06T21:06:26+08:00">2019-08-06</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一-Requests库"><a href="#一-Requests库" class="headerlink" title="一. Requests库"></a>一. Requests库</h1><h2 id="1-requests库的安装：-“以管理者身份”运行cmd，执行以下代码："><a href="#1-requests库的安装：-“以管理者身份”运行cmd，执行以下代码：" class="headerlink" title="1. requests库的安装： “以管理者身份”运行cmd，执行以下代码："></a>1. requests库的安装： “以管理者身份”运行cmd，执行以下代码：</h2><p><code>python -m pip install requests</code></p>
<h2 id="2-HTTP协议"><a href="#2-HTTP协议" class="headerlink" title="2.HTTP协议"></a>2.HTTP协议</h2><p>HTTP是一个基于“请求与响应”模式的无状态的应用层协议，采用URL作为定位网络资源的标识。URL是通过HTTP协议存取资源的Internet路径，一个URL对应一个数据资源。</p>
<p>HTTP协议可以对资源进行操作，有如下方法：</p>
<ul>
<li>GET    -请求获取URL位置的资源</li>
<li>HEAD   -请求获取URL位置资源的响应消息报告，即获得该资源的头部信息</li>
<li>POST   -请求向URL位置的资源后附加新的数据</li>
<li>PUT    -请求向URL位置存储一个资源，覆盖原URL位置的资源</li>
<li>PATCH  -请求局部更新URL位置的资源，即改变该处资源的部分内容</li>
<li>DELETE -请求删除URL位置存储的资源</li>
</ul>
<p>通过URL和命令管理资源，操作都是<strong>独立无状态</strong>。</p>
<h2 id="3-Requests库的7个主要方法"><a href="#3-Requests库的7个主要方法" class="headerlink" title="3.Requests库的7个主要方法"></a>3.Requests库的7个主要方法</h2><h3 id="1-requests-request-method-url-kwargs"><a href="#1-requests-request-method-url-kwargs" class="headerlink" title="(1)requests.request(method, url, kwargs)"></a>(1)requests.request(method, url, <em>kwargs</em>)</h3><p>构造一个请求，此方法为requests库的基本方法，其余六种方法都以该方法支撑。</p>
<ul>
<li>method: 请求方式，对应get/put/post等7种</li>
<li>url: 拟获取页面的url链接</li>
<li><em>kwargs</em>: 控制访问的参数，为可选参数，共13个(可自行查看requests库文档)</li>
</ul>
<h3 id="2-requests-get-url-params-None-kwargs"><a href="#2-requests-get-url-params-None-kwargs" class="headerlink" title="(2)requests.get(url, params=None, kwargs)"></a>(2)requests.get(url, params=None, <em>kwargs</em>)</h3><p>获取HTML网页的主要方法，对应于HTTP的GET。</p>
<ul>
<li>url: 拟获取页面的url链接</li>
<li>params: url中的额外参数，字典或字节流格式，可选</li>
<li><em>kwargs</em>: 12个控制访问的参数，为可选参数</li>
</ul>
<p>基础代码为：</p>
<pre><code>import requests
r = requests.get(url)
</code></pre><p>其中，url为一个Request对象，r为Response类的对象，包含爬虫返回的所有信息，也包含请求的Request信息。Response对象的属性：</p>
<h4 id="r-status-code"><a href="#r-status-code" class="headerlink" title=" r.status_code"></a><1> r.status_code</1></h4><p>HTTP请求的返回状态，200则返回成功 </p>
<h4 id="r-text"><a href="#r-text" class="headerlink" title=" r.text"></a><2> r.text</2></h4><p>url对应的页面信息（字符串格式）</p>
<h4 id="r-encoding"><a href="#r-encoding" class="headerlink" title=" r.encoding"></a><3> r.encoding</3></h4><p>从HTTP header中猜测的响应内容编码方式</p>
<h4 id="r-apparent-encoding"><a href="#r-apparent-encoding" class="headerlink" title=" r.apparent_encoding"></a><4> r.apparent_encoding</4></h4><p>从内容中分析出的响应内容编码方式</p>
<h4 id="r-content"><a href="#r-content" class="headerlink" title=" r.content"></a><5> r.content</5></h4><p>HTTP响应内容的二进制形式</p>
<p>对于<3>和<4>两种编码，如果header中不存在charset，则认为编码为ISO-8859-1，r.text根据r.encoding显示网页内容，但往往显示的内容不是我们易懂的，所以通常执行以下代码：</4></3></p>
<pre><code>r.encoding = r.apparent_encoding
r.text
</code></pre><p>这样，r.text就会返回我们更熟悉的内容</p>
<h3 id="3-requests-head-url-kwargs"><a href="#3-requests-head-url-kwargs" class="headerlink" title="(3)requests.head(url, kwargs)"></a>(3)requests.head(url, <strong><em>kwargs</em></strong>)</h3><p>获取HTTP网页头信息的方法，对应于HTTP的HEAD。</p>
<ul>
<li>url: 拟获取页面的url链接</li>
<li><em>kwargs</em>: 12个控制访问的参数，为可选参数</li>
</ul>
<h3 id="4-requests-post-url-data-None-json-None-kwargs"><a href="#4-requests-post-url-data-None-json-None-kwargs" class="headerlink" title="(4)requests.post(url, data=None, json=None, kwargs)"></a>(4)requests.post(url, data=None, json=None, <em>kwargs</em>)</h3><p>向HTML网页提交POST请求的方法，对应于HTTP的POST。</p>
<ul>
<li>url: 拟获取页面的url链接</li>
<li>data: 字典、字节序列或文件，Request的内容</li>
<li>json: JSON格式的数据，Request的内容</li>
<li><em>kwargs</em>: 12个控制访问的参数，为可选参数</li>
</ul>
<h3 id="5-requests-put-url-data-None-kwargs"><a href="#5-requests-put-url-data-None-kwargs" class="headerlink" title="(5)requests.put(url, data=None, kwargs)"></a>(5)requests.put(url, data=None, <em>kwargs</em>)</h3><p>向HTML网页提交PUT请求的方法，对应于HTTP的PUT。</p>
<ul>
<li>url: 拟获取页面的url链接</li>
<li>data: 字典、字节序列或文件，Request的内容</li>
<li><em>kwargs</em>: 12个控制访问的参数，为可选参数</li>
</ul>
<h3 id="6-requests-patch-url-data-None-kwargs"><a href="#6-requests-patch-url-data-None-kwargs" class="headerlink" title="(6)requests.patch(url, data=None, kwargs)"></a>(6)requests.patch(url, data=None, <em>kwargs</em>)</h3><p>向HTML网页提交局部修改请求，对应于HTTP的PATCH。</p>
<ul>
<li>url: 拟获取页面的url链接</li>
<li>data: 字典、字节序列或文件，Request的内容</li>
<li><em>kwargs</em>: 12个控制访问的参数，为可选参数</li>
</ul>
<h3 id="7-requests-delete-url-kwargs"><a href="#7-requests-delete-url-kwargs" class="headerlink" title="(7)requests.delete(url, kwargs)"></a>(7)requests.delete(url, <strong><em>kwargs</em></strong>)</h3><p>向HTML网页提交删除请求，对应于HTTP的DELETE。</p>
<ul>
<li>url: 拟获取页面的url链接</li>
<li><em>kwargs</em>: 12个控制访问的参数，为可选参数</li>
</ul>
<h2 id="4-爬取网页的通用代码框架"><a href="#4-爬取网页的通用代码框架" class="headerlink" title="4.爬取网页的通用代码框架"></a>4.爬取网页的通用代码框架</h2><p>如果url请求连接失败，则会产生异常。</p>
<p>代码如下：</p>
<pre><code>def getHTMLText(url):
    try:
        r = requests.get(url)
        r.raise_for_status() #在方法内部判断r.status_code是否等于200
        r.encoding = r.apparent_encoding
    except:
        return &quot;产生异常&quot;
</code></pre><h1 id="二-Robots协议"><a href="#二-Robots协议" class="headerlink" title="二. Robots协议"></a>二. Robots协议</h1><p>网络爬虫可能会引发许多问题，如性能骚扰、法律风险、隐私泄露等。因此，许多网站对网络爬虫有限制，有以下两种：</p>
<ul>
<li>来源审查：判断User-Agent进行限制</li>
</ul>
<p>检查来访HTTP协议头的User-Agent域，只影响浏览器或友好爬虫的访问</p>
<ul>
<li>发布公告：Robots协议</li>
</ul>
<p>告知所有爬虫的爬取策略，要求爬虫遵守</p>
<h2 id="Robots协议，Robots-Exclusion-Standard-，网络爬虫排除标准"><a href="#Robots协议，Robots-Exclusion-Standard-，网络爬虫排除标准" class="headerlink" title="Robots协议，Robots Exclusion Standard ，网络爬虫排除标准"></a>Robots协议，Robots Exclusion Standard ，网络爬虫排除标准</h2><p>作用：网站告知网络爬虫哪些页面可以抓取，哪些不行。形式：在网站根目录下的robots.txt文件。</p>
<p>Robots协议基本语法</p>
<pre><code># 注释，* 代表所有， /代表根目录
User-Agent: *
Disallow: /
</code></pre><h1 id="三-Beautiful-Soup库"><a href="#三-Beautiful-Soup库" class="headerlink" title="三. Beautiful Soup库"></a>三. Beautiful Soup库</h1><h2 id="1-Beautiful-Soup库的安装：-“以管理者身份”运行cmd，执行以下代码："><a href="#1-Beautiful-Soup库的安装：-“以管理者身份”运行cmd，执行以下代码：" class="headerlink" title="1. Beautiful Soup库的安装： “以管理者身份”运行cmd，执行以下代码："></a>1. Beautiful Soup库的安装： “以管理者身份”运行cmd，执行以下代码：</h2><p><code>python -m pip install BeautifulSoup4</code></p>
<h2 id="2-Beautiful-Soup的基本元素"><a href="#2-Beautiful-Soup的基本元素" class="headerlink" title="2. Beautiful Soup的基本元素"></a>2. Beautiful Soup的基本元素</h2><p>HTML可表示为如下的标签树</p>
<pre><code>&lt;html&gt;

   &lt;body&gt;

      &lt;p class=&quot;title&quot;&gt;...&lt;/p&gt;

   &lt;/body&gt;

&lt;/html&gt;
</code></pre><p>beautifulSoup就是解析、遍历、维护“标签树”的功能库。</p>
<pre><code>import requests
from bs4 import BeautifulSoup #B和S大写

r = requests.get(url)
demo = r.text

soup = BeautifulSoup(demo, &quot;html.parser&quot;)
</code></pre><p>以上代码得到一个BeautifulSoup类对象，存储在soup中，对应一个HTML/XML文档的全部内容</p>
<p>“html.parser”表示是bs4的HTML解析器，条件是安装bs4库，还有以下的解析器</p>
<ul>
<li>lxml的HTML解析器，BeautifulSoup(mk, ‘lxml’), 条件为pip install lxml</li>
<li>lxml的XML解析器，BeautifulSoup(mk, ‘xml’), 条件为pip install lxml</li>
<li>html5lib解析器，BeautifulSoup(mk, ‘html5lib’), 条件为pip install html5lib</li>
</ul>
<p>BeautifulSoup类的基本元素</p>
<pre><code>&lt;p class=&quot;title&quot;&gt;...&lt;/p&gt;
</code></pre><ul>
<li>Tag, 标签，最基本的信息组织单元，分别用<>和</>表明开头和结尾 </li>
<li>Name, 标签的名字，&lt;p&gt;…&lt;/p&gt;的名字是’p’, 格式：<tag>.name</tag></li>
<li>Attributes, 标签的属性，字典形式组织，格式：<tag>.attr</tag></li>
<li>NavigableString, 标签内非属性字符串，<>...</>中的字符串，格式：<tag>.string</tag></li>
<li>Comment, 标签内字符串的注释部分，一种特殊的Comment类型</li>
</ul>
<p>任何存在于HTML语法中的标签都可以用soup.<tag>访问获得，当HTML文档中存在多个相同<tag>对应内容时，soup.<tag>返回第一个。</tag></tag></tag></p>
<p>比如title标签和a标签</p>
<pre><code>&gt;&gt;&gt;soup.title
&gt;&gt;&gt;soup.a
</code></pre><p>每个<tag>都有自己的名字，通过<tag>.name获取，字符串类型</tag></tag></p>
<pre><code>&gt;&gt;&gt;soup.a.name
&gt;&gt;&gt;soup.a.parent.name
&gt;&gt;&gt;soup.a.parent.parent.name
</code></pre><p>一个<tag>可以有0个或多个属性，字典类型</tag></p>
<pre><code>&gt;&gt;&gt;tag = soup.a
&gt;&gt;&gt;tag.attrs
</code></pre><p>NavigableString可以跨越多个层次，Comment是一种特殊类型。</p>
<pre><code>&gt;&gt;&gt;newsoup = BeautifulSoup(&quot;&lt;b&gt;&lt;!--This is a comment--&gt;&lt;/b&gt;&lt;p&gt;This is not a comment&lt;/p&gt;&quot;, &quot;html.parser&quot;)
&gt;&gt;&gt;newsoup.b.string
&gt;&gt;&gt;type(newsoup.b.string)
&gt;&gt;&gt;newsoup.p.string
&gt;&gt;&gt;tyoe(newsoup.p.string)
</code></pre><p>输出结果为</p>
<pre><code>&#39;This is a comment&#39; #Comment类型的字符串开头有一个!
&lt;class &#39;bs4.element.Comment&#39;&gt;
&#39;This is not a comment&#39;
&lt;class &#39;bs4.element.NavigableString&#39;&gt;
</code></pre>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.2</div>




<% if (page.mathjax){ %>
<%- partial('mathjax') %>
<% } %>
</%></%-></%>
        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/affix.js?v=7.1.2"></script>

  <script src="/js/schemes/pisces.js?v=7.1.2"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  



  




  

  

  
  

  
  
    
      
    
      
        
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });
  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') { next = next.nextSibling }
        if (next && next.nodeName.toLowerCase() === 'br') { next.parentNode.removeChild(next) }
      }
    });
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      document.getElementById(all[i].inputID + '-Frame').parentNode.className += ' has-jax';
    }
  });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
